<div class="col-sm-12 col-md-12 col-lg-12">
    <span>Contribuyente: <span class="text-muted"><strong><%= @contribuyente_nombre %></strong></span></span>
    <span>Establecimiento: <span class="text-muted"><strong><%= @establecimiento_nombre %></strong></span></span>
    <%= link_to  operaciones_libro_compra_path , class:"col-md-offset-3" do %>
        Ver Resumen del Libro de Compras <i class="fa fa-print"></i>
    <%end%>
</div>


<%= form_for(@compra_libro) do |f| %>
<% if @compra_libro.errors.any? %>
<div class="alert alert-danger alert-dismissable col-md-10 col-md-offset-1 col-lg-10 col-lg-offset-1">
    <strong>Error</strong> los campos con asterisco <strong>(*)</strong> son requeridos
    <% if @compra_libro.errors.messages[:contribuyente_id]%>
    <p><strong>Debes Seleccionar un Contribuyente</strong></p>
    <% end %>
    <%if  @compra_libro.errors.messages[:establecimiento_id]%>
    <p><strong>Debes Seleccionar un Establecimiento</strong></p>
    <% end %>
</div>

<% end %>
<%= f.hidden_field :establecimiento_id, value: current_usuario.establecimiento_id %>
<%= f.hidden_field :contribuyente_id, value: current_usuario.contribuyente_id %>
<div class="field form-group col-xs-6 col-sm-2 col-md-2 col-lg-2">
    <%= f.label :documento, "Documento(*)" %>
    <select name="compra_libro[documento]" class="form-control" id="compra_libro_documento">
        <option value="" selected="selected"></option>
        <option value="DA">DA</option>
        <option value="FA">FA</option>
        <option value="FC">FC</option>
        <option value="FE">FE</option>
        <option value="FO">FO</option>
        <option value="NC">NC</option>
        <option value="ND">ND</option>
    </select>
</div>
<div class="field form-group col-xs-6 col-sm-3 col-md-3 col-lg-3 ">
    <label >Tipo de Documento(*)</label>
    <input type="text" id="tipo-documento" class="form-control" disabled>
</div>
<div class="field form-group col-xs-6 col-sm-1 col-md-1 col-lg-1">
    <%= f.label :serie, "Serie(*)" %>
    <%= f.text_field :serie, class:"form-control" %>
</div>
<div class="field form-group col-xs-6 col-sm-2 col-md-2 col-lg-2 ">
    <%= f.label :numero, "Numero(*)" %>
    <%= f.text_field :numero, class:"form-control" %>
</div>
<div class="field form-group col-xs-6 col-sm-1 col-md-1 col-lg-1 ">
    <%= f.label :dia, "Dia(*)" %>
    <%= f.text_field :dia, class:"form-control" %>
</div>
<div class="field form-group col-xs-6 col-sm-2 col-md-2 col-lg-2 ">
    <%= f.label :mes, "Mes(*)" %>
    <%= f.text_field :mes, class:"form-control", value:current_usuario.mes %>
</div >
<div class="field form-group col-xs-6 col-sm-1 col-md-1 col-lg-1 ">
    <%= f.label :year, "AÃ±o(*)"%>
    <%= f.text_field :year, class:"form-control", value:current_usuario.year %>
</div>
<div class="field form-group col-xs-6 col-sm-4 col-md-4 col-lg-4">
    <%= f.label :proveedor_nit,"Nit(*)" %>
    <%= f.text_field :proveedor_nit, id:"compras_proveedor_nit", class:"form-control", data: { autocomplete_source: Proveedor.order(:nit).map(&:nit)}, autocomplete:"off"  %>
</div>
<div class="field form-group col-xs-6 col-sm-4 col-md-4 col-lg-4 ">
    <%= f.label :proveedor_nombre, "Nombre Proveedor(*)" %>
    <%= f.text_field :proveedor_nombre, id:"compras_proveedor_nombre" , class:"form-control", data: { proveedor_nombre: Proveedor.order(:nit).map(&:nombre)}, readonly:"readonly", autocomplete:"off" %>
</div>
<div class="col-sm-4 col-md-4 col-lg-4">
    <%= f.label :cuenta_contable_id, "Cuenta Contable(*)" %>
    <%= select("compra_libro", "cuenta_contable_id", CuentaContable.all.collect {|c| [ c.nombre , c.id ] }, { include_blank: true },class:"form-control")%>  
</div>

<div class="col-xs-12 col-sm-offset-2 col-md-offset-2 col-sm-4 col-md-4 col-lg-4">
    <h5 class="text-center">Valor Gravado</h5>
    <div class="field form-group col-xs-6 col-sm-6 col-md-6 col-lg-6">
        <%= f.label :gravado_bienes, "Bienes" %>
        <%= f.text_field :gravado_bienes, class:"form-control gravado gravado-bienes"%>
    </div>
    <div class="field form-group col-xs-6 col-sm-6 col-md-6 col-lg-6 ">
        <%= f.label :gravado_servicios, "Servicios" %>
        <%= f.text_field :gravado_servicios, class:"form-control gravado gravado-servicios" %>
    </div>
</div>
<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
    <h5 class="text-center">Valor Exento</h5>
    <div class="field form-group col-xs-6 col-sm-6 col-md-6 col-lg-6 ">
        <%= f.label :exento_bienes, "Bienes" %>
        <%= f.text_field :exento_bienes, class:"form-control exento exento-bienes" %>
    </div>
    <div class="field form-group col-xs-6 col-sm-6 col-md-6 col-lg-6 ">
        <%= f.label :exento_servicios, "Servicios" %>
        <%= f.text_field :exento_servicios, class:"form-control exento exento-servicios" %>
    </div>
</div>

<%=  f.hidden_field :base, class:"base-iva" %>
<%=  f.hidden_field :iva, class:"base-iva" %>
<%= f.hidden_field :total %>
<div class="actions col-md-12 col-sm-12 col-xs-6">
    <%= link_to content_tag(:i ,' Volver' ,class:"fa fa-arrow-circle-left "), compra_libros_path , class:"btn btn-normal col-md-offset-3 col-md-2 col-sm-offset-3 col-sm-2"%>
    <%= button_tag(type: "submit", class: "btn btn-success col-md-2 col-sm-2") do %>
    <i class="fa fa-save"></i> Guardar 
    <% end %>
    <%= button_tag(type: "reset", class: "btn btn-danger col-md-2 col-sm-2") do %>
    <i class="fa fa-undo"></i> Reiniciar 
    <% end %>
</div>
<% end %>
